#!/bin/zsh


alias vim='$EDITOR'
alias vi='vim'
alias v='vim'

alias zshrc='$EDITOR '"$DOTFILES"'/.zshrc'
alias vimrc='$EDITOR '"$DOTFILES"'/.vim/vimrc'

alias ql='quick-look'

alias _ls='ls --color=always -AgGhHLopQ --time-style=+"%Y/%m/%d-%H:%M:%S" --quoting-style="shell"'
_ls_clean() {
    _ls "$@"                                   |\
        tr -s ' '                              |\
        sed -E  's/^ \+//g; s/ \+$//g'         |\
        cut -d ' ' -f3-                        |\
        sed -E 's/ /\n/g3; s/ /\t/g; s/\n/ /g' |\
        column -s $'\t' -t
}
alias l='_ls_clean'
alias ll='_ls_clean -S'
alias lt='_ls_clean -t'
alias ls='ls --color=auto'
alias lsd='ls -d *(/)'

alias sudo='nocorrect sudo '

alias s='sudo'

alias ..='cd ..'
alias ...='cd ../..'

alias tmux='tmux -2'
alias t='tmux'
alias ts='tmux new-session -s'
alias tl='tmux list-sessions'
alias ta='tmux attach-session -d -t'

alias less='$PAGER'
alias zless='$PAGER'

alias htop='htop -u $USER'

alias g='git'
alias ghclone='_repo="$(git gh `pbpaste | tr "'"/"'" "'" "'"`)"; [ "$?" = "0" ] && cd "$_repo" || false'

alias ag='ag --hidden -p ~/.agignore'

# pip2 install pygments
alias ccat='pygmentize -O style=base16_default_dark -f 256 -g'
alias c='ccat'

alias ipaddr='dig +short myip.opendns.com @resolver1.opendns.com'
alias ips='ifconfig -a | perl -nle"/(\d+\.\d+\.\d+\.\d+)/ && print \$1"'
alias sniff='ngrep -d "en0" -t "^(GET|POST) " "tcp and port 80"'
alias whois='whois -h whois-servers.net'
alias flush='dscacheutil -flushcache'
alias httpdump='tcpdump -i en0 -n -s 0 -w - | grep -a -o -E \"Host\: .*|GET \/.*\"'

alias fs='du -shL'

#alias make_='/usr/bin/make -j`sysctl -n hw.ncpu`'
alias makefast='colormake-short -j`sysctl -n hw.ncpu`'
alias make='colormake-short'

alias m='make'
alias mc='make clean'
alias mt='make test'
alias M='make clean && make all'
alias MM='make clean && make test'

alias mvn='mvn-color'
alias idea='$EDITOR ~/Dropbox/ideas.md'

alias colortest='~/.config/base16-shell/colortest'

gencomp_all() {
    for p in $path; do ls $p; done |\
        uniq |\
        { while read c; do gencomp $c; done }
}

trnl()  { tr "${1:-':'}" '\n' }
ppvar() { eval 'echo "$'"${1:-PATH}"'"' | trnl "${2:-':'}" }
